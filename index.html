<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Inscripción</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .form-container {
            max-width: 700px;
            margin: 2rem auto;
            background: #ffffff;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-top: 5px solid #6a1b9a;
        }
        .header {
            text-align: center;
            margin-bottom: 1rem;
        }
        .header img {
            max-width: 100px;
            margin-bottom: 1rem;
        }
        .header h1 {
            color: #6a1b9a;
        }
        .btn-purple {
            background-color: #6a1b9a;
            color: #ffffff;
        }
        .btn-purple:hover {
            background-color: #4a0072;
        }
        .form-text {
            font-size: 0.9rem;
            color: #6a1b9a;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <div class="header">
            <!-- Espacio para el logo -->
            <img src="LOGO_URL" alt="Logo Institucional">
            <h1>Formulario de Inscripción</h1>
        </div>

        <form id="inscripcion-form">
            <!-- Nombres y Apellidos -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="nombres" class="form-label">Nombres</label>
                    <input type="text" class="form-control" id="nombres" name="nombres" required>
                </div>
                <div class="col-md-6">
                    <label for="apellidos" class="form-label">Apellidos</label>
                    <input type="text" class="form-control" id="apellidos" name="apellidos" required>
                </div>
            </div>

            <!-- Correo Electrónico -->
            <div class="mb-3">
                <label for="email" class="form-label">Correo Electrónico</label>
                <input type="email" class="form-control" id="email" name="email" required>
            </div>

            <!-- DNI y Edad -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="dni" class="form-label">Número de DNI</label>
                    <input type="text" class="form-control" id="dni" name="dni" required>
                </div>
                <div class="col-md-6">
                    <label for="edad" class="form-label">Edad</label>
                    <select class="form-select" id="edad" name="edad" required>
                        <option value="" disabled selected>Selecciona tu edad</option>
                        ${Array.from({ length: 15 }, (_, i) => `<option value="${16 + i}">${16 + i}</option>`).join('')}
                        <option value="otros">Otros</option>
                    </select>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="fecha_nacimiento" class="form-label">Fecha de Nacimiento</label>
                    <input type="date" class="form-control" id="fecha_nacimiento" name="fecha_nacimiento" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Sexo</label>
                    <div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" id="femenino" name="sexo" value="Femenino" required>
                            <label class="form-check-label" for="femenino">Femenino</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" id="masculino" name="sexo" value="Masculino" required>
                            <label class="form-check-label" for="masculino">Masculino</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mb-3">
                <label for="ciudad_residencia" class="form-label">Ciudad de Residencia</label>
                <select class="form-select" id="ciudad_residencia" name="ciudad_residencia" required>
                    <option value="" disabled selected>Selecciona tu ciudad</option>
                    <option value="Tacna">Tacna</option>
                    <option value="otro">Otro</option>
                </select>
                <input type="text" class="form-control mt-2 d-none" id="ciudad_otro" name="ciudad_otro" placeholder="Ingresa tu ciudad">
            </div>
            <!-- Celular y Operador -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="celular" class="form-label">Celular</label>
                    <input type="text" class="form-control" id="celular" name="celular" required>
                </div>
                <div class="col-md-6">
                    <label for="operador" class="form-label">Operador</label>
                    <select class="form-select" id="operador" name="operador" required>
                        <option value="" disabled selected>Selecciona tu operador</option>
                        <option value="Movistar">Movistar</option>
                        <option value="Claro">Claro</option>
                        <option value="Entel">Entel</option>
                        <option value="Bitel">Bitel</option>
                        <option value="otros">Otros</option>
                    </select>
                </div>
            </div>

            <!-- Tipo de Colegio y Carrera -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="colegio" class="form-label">Tipo de Colegio</label>
                    <select class="form-select" id="colegio" name="colegio" required>
                        <option value="" disabled selected>Selecciona tu colegio</option>
                        <option value="Privado">Privado</option>
                        <option value="Público">Público</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label for="carrera" class="form-label">Carrera</label>
                    <select class="form-select" id="carrera" name="carrera" required>
                        <option value="" disabled selected>Selecciona tu carrera</option>
                        <option value="Ingeniería">Ingeniería</option>
                        <option value="Medicina">Medicina</option>
                    </select>
                </div>
            </div>
            <!-- Políticas de privacidad -->
            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="politicas" name="politicas" required>
                <label for="politicas" class="form-check-label">
                    Acepto las políticas de privacidad.
                </label>
            </div>
            
            <button type="submit" class="btn btn-purple w-100">Enviar</button>
        </form>

        <p id="respuesta" class="text-center mt-3" style="color: green;"></p>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
    const form = document.getElementById('inscripcion-form');
    const respuesta = document.getElementById('respuesta');
    const ciudadResidencia = document.getElementById('ciudad_residencia');
    const ciudadOtro = document.getElementById('ciudad_otro');
    const operador = document.getElementById('operador');
    const operadorOtro = document.getElementById('operador_otro');

    // Mostrar campo "Otro" cuando se selecciona en "Ciudad de Residencia"
    ciudadResidencia.addEventListener('change', (e) => {
        if (e.target.value === 'otro') {
            ciudadOtro.classList.remove('d-none');
            ciudadOtro.setAttribute('required', 'required');
        } else {
            ciudadOtro.classList.add('d-none');
            ciudadOtro.removeAttribute('required');
        }
    });

    // Mostrar campo "Otro" cuando se selecciona en "Operador"
    operador.addEventListener('change', (e) => {
        if (e.target.value === 'otros') {
            operadorOtro.classList.remove('d-none');
            operadorOtro.setAttribute('required', 'required');
        } else {
            operadorOtro.classList.add('d-none');
            operadorOtro.removeAttribute('required');
        }
    });

    form.addEventListener('submit', async (e) => {
        e.preventDefault();

        const formData = new FormData(form);

        // Enviar datos al Google Apps Script
        try {
            const response = await fetch('https://script.google.com/macros/s/AKfycbzRwJC-7LmeQ5xsUKZrFNXsQkqWoY-cgQd3iCpESkJYbaU_W7UBYkAVGZesnbL40eeAHw/exec', {
                method: 'POST',
                body: formData
            });

            if (response.ok) {
                respuesta.textContent = 'Formulario enviado con éxito.';
                respuesta.style.color = 'green';
                form.reset();
                ciudadOtro.classList.add('d-none'); // Resetear campos adicionales
                operadorOtro.classList.add('d-none');
            } else {
                respuesta.textContent = 'Error al enviar el formulario.';
                respuesta.style.color = 'red';
            }
        } catch (error) {
            respuesta.textContent = 'Error de conexión.';
            respuesta.style.color = 'red';
            console.error(error);
        }
    });
</script>
</body>
</html>
